<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
	 <title>skeleton</title>
	 <!--link rel="stylesheet" href="style.css"-->
	</head>
	
	<body>
		<div id="output">123</div>	
		<div id="out">123</div>	
		<div id="addStr">vit+1</div>	
	</body>
	
</html>

<script src="main.js"></script>
<script>

	//初始化

	var output = document.getElementById("output");
	var out = document.getElementById("out");
	
	var addStr = document.getElementById("addStr");
	addStr.addEventListener("mousedown", onPressed, false);
	addStr.addEventListener("mousedown", onPressed, false);

	var character = new Character(AMA);

	TickMgr.instance.clearAndStartTick(40);				//tick interval ms
	TickMgr.instance.addTickListener(this, onTick);
	// TickMgr.instance.addTickListener(this, onTick);		//pacman 2013-10-19 测试重复添加 -ok- 多次执行不会重复添加
	// TickMgr.instance.removeTickListener(this, onTick);	//pacman 2013-10-19 测试移除	-ok-


	function onPressed(evt)
	{
		character.setBasicVit(character._basicVit + 1);
	}
	
	function onTick(tick)
	{
		out.innerHTML = tick.tickNo;
		showProp(character);
	}

	//显示对象的属性
	function showProp(obj)
	{
	 	output.innerHTML = "";
		for (var elmt in obj)
		{
			output.innerHTML += elmt + ":" + obj[elmt] + " ";
		}
	}
	
	
</script>
